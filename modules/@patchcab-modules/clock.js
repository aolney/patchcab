import{Faceplate as t,Bang as n,onMount as e,Knob as _,Patch as o}from"https://olney.ai/patchcab/js/core.js";function s(t){let n,e,s,a,r,c,i,v,m,$,p;function u(n){t[5](n)}let f={label:"frequency",x:20,y:60,min:1,max:10,precision:2};return void 0!==t[0].freq&&(f.value=t[0].freq),n=new _({props:f}),__sv.binding_callbacks.push((()=>__sv.bind(n,"value",u))),a=new o({props:{label:"out",x:20,y:270,name:"gate-out-1",output:t[1]}}),c=new o({props:{label:"1/2",x:60,y:270,name:"gate-out-2",output:t[2]}}),v=new o({props:{label:"1/4",x:20,y:320,name:"gate-out-4",output:t[3]}}),$=new o({props:{label:"1/8",x:60,y:320,name:"gate-out-8",output:t[4]}}),{c(){__sv.create_component(n.$$.fragment),s=__sv.space(),__sv.create_component(a.$$.fragment),r=__sv.space(),__sv.create_component(c.$$.fragment),i=__sv.space(),__sv.create_component(v.$$.fragment),m=__sv.space(),__sv.create_component($.$$.fragment)},m(t,e){__sv.mount_component(n,t,e),__sv.insert(t,s,e),__sv.mount_component(a,t,e),__sv.insert(t,r,e),__sv.mount_component(c,t,e),__sv.insert(t,i,e),__sv.mount_component(v,t,e),__sv.insert(t,m,e),__sv.mount_component($,t,e),p=!0},p(t,_){const o={};!e&&1&_&&(e=!0,o.value=t[0].freq,__sv.add_flush_callback((()=>e=!1))),n.$set(o)},i(t){p||(__sv.transition_in(n.$$.fragment,t),__sv.transition_in(a.$$.fragment,t),__sv.transition_in(c.$$.fragment,t),__sv.transition_in(v.$$.fragment,t),__sv.transition_in($.$$.fragment,t),p=!0)},o(t){__sv.transition_out(n.$$.fragment,t),__sv.transition_out(a.$$.fragment,t),__sv.transition_out(c.$$.fragment,t),__sv.transition_out(v.$$.fragment,t),__sv.transition_out($.$$.fragment,t),p=!1},d(t){__sv.destroy_component(n,t),t&&__sv.detach(s),__sv.destroy_component(a,t),t&&__sv.detach(r),__sv.destroy_component(c,t),t&&__sv.detach(i),__sv.destroy_component(v,t),t&&__sv.detach(m),__sv.destroy_component($,t)}}}function a(n){let e,_;return e=new t({props:{title:"CLOCK",color:"var(--color-3)",$$slots:{default:[s]},$$scope:{ctx:n}}}),{c(){__sv.create_component(e.$$.fragment)},m(t,n){__sv.mount_component(e,t,n),_=!0},p(t,[n]){const _={};513&n&&(_.$$scope={dirty:n,ctx:t}),e.$set(_)},i(t){_||(__sv.transition_in(e.$$.fragment,t),_=!0)},o(t){__sv.transition_out(e.$$.fragment,t),_=!1},d(t){__sv.destroy_component(e,t)}}}function r(t,_,o){let{state:s={freq:2}}=_,a=0;const r=new n,c=new n,i=new n,v=new n;let m=new Tone.Clock((t=>{r.bang(t,!0,!0),a%2==0&&c.bang(t,!0,!0),a%4==0&&i.bang(t,!0,!0),a%8==0&&v.bang(t,!0,!0),a+=1}),s.freq);return e((()=>{m.start()})),t.$$set=t=>{"state"in t&&o(0,s=t.state)},t.$$.update=()=>{1&t.$$.dirty&&(m.frequency.value=s.freq)},[s,r,c,i,v,function(n){t.$$.not_equal(s.freq,n)&&(s.freq=n,o(0,s))}]}class c extends __sv.SvelteComponent{constructor(t){super(),__sv.init(this,t,r,a,__sv.safe_not_equal,{state:0})}}export{c as default};
