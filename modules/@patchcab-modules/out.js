import{Faceplate as n,onMount as t,Switch as e,Patch as o,isShortcut as _}from"https://olney.ai/patchcab/js/core.js";function s(n){let t,_,s,i,a;function r(t){n[3](t)}let c={x:40,y:280,label:"on"};return void 0!==n[0]&&(c.value=n[0]),t=new e({props:c}),__sv.binding_callbacks.push((()=>__sv.bind(t,"value",r))),i=new o({props:{label:"in",x:40,y:320,name:"audio-in",input:n[1]}}),{c(){__sv.create_component(t.$$.fragment),s=__sv.space(),__sv.create_component(i.$$.fragment)},m(n,e){__sv.mount_component(t,n,e),__sv.insert(n,s,e),__sv.mount_component(i,n,e),a=!0},p(n,e){const o={};!_&&1&e&&(_=!0,o.value=n[0],__sv.add_flush_callback((()=>_=!1))),t.$set(o);const s={};2&e&&(s.input=n[1]),i.$set(s)},i(n){a||(__sv.transition_in(t.$$.fragment,n),__sv.transition_in(i.$$.fragment,n),a=!0)},o(n){__sv.transition_out(t.$$.fragment,n),__sv.transition_out(i.$$.fragment,n),a=!1},d(n){__sv.destroy_component(t,n),n&&__sv.detach(s),__sv.destroy_component(i,n)}}}function i(t){let e,o,_,i,a;return o=new n({props:{title:"OUT",color:"var(--color-dark)",$$slots:{default:[s]},$$scope:{ctx:t}}}),{c(){e=__sv.space(),__sv.create_component(o.$$.fragment)},m(n,s){__sv.insert(n,e,s),__sv.mount_component(o,n,s),_=!0,i||(a=__sv.listen(document.body,"keydown",t[2]),i=!0)},p(n,[t]){const e={};2051&t&&(e.$$scope={dirty:t,ctx:n}),o.$set(e)},i(n){_||(__sv.transition_in(o.$$.fragment,n),_=!0)},o(n){__sv.transition_out(o.$$.fragment,n),_=!1},d(n){n&&__sv.detach(e),__sv.destroy_component(o,n),i=!1,a()}}}function a(n,e,o){var s=this&&this.__awaiter||function(n,t,e,o){return new(e||(e=Promise))((function(_,s){function i(n){try{r(o.next(n))}catch(n){s(n)}}function a(n){try{r(o.throw(n))}catch(n){s(n)}}function r(n){var t;n.done?_(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(i,a)}r((o=o.apply(n,t||[])).next())}))};let i=!1;const a=new Tone.Gain,r=new Tone.Channel(2).toDestination();new Tone.Scale(0,1);return t((()=>s(void 0,void 0,void 0,(function*(){return a.connect(r),r.mute=!0,()=>{r.dispose()}})))),n.$$.update=()=>{1&n.$$.dirty&&i&&(r.volume.value=2),1&n.$$.dirty&&(n=>{s(void 0,void 0,void 0,(function*(){n&&(yield Tone.start()),r.mute=!n}))})(i)},[i,a,n=>{_(n)&&"Enter"===n.key&&o(0,i=!i)},function(n){i=n,o(0,i)}]}class r extends __sv.SvelteComponent{constructor(n){super(),__sv.init(this,n,a,i,__sv.safe_not_equal,{})}}export{r as default};
